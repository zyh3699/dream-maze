<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册页面</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>
        
		   body {
            font-family: Arial, sans-serif;
            background-image: url('../img/menuBox/main_page.jpg'); /* 背景图片 */
            background-size: cover; /* 图片大小覆盖整个页面 */
            background-position: center; /* 图片居中对齐 */
            background-repeat: no-repeat; /* 图片不重复 */
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.8); /* 半透明白色背景，使内容易读 */
            background-image: url('../img/menuBox/menu_backgroud.png'); /* 背景图片 */
            background-position: center; /* 图片居中对齐 */
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            width: 90%;
        }

        .container a {
            width: 80%;
            padding: 10px;
            background-color:  #28a745;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            font-family: 仿宋;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin: 5px auto;
            display: block;
        }

        .input-group {
            display: grid;
            grid-template-columns: 100px 1fr; /* 设置标签和输入框的网格布局 */
            gap: 10px; /* 设置标签与输入框之间的间距 */
            margin-bottom: 15px;
            align-items: center; /* 垂直对齐 */
        }

        h2 {
            margin-bottom: 20px;
            font-family: 仿宋;
            font-size: xx-large;
            font-weight: bolder;
            text-align:center;
            color:aqua;
        }

        .form {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .form .inputBox {
            width: 100%;
            margin-top: 20px;
        }

        .checkip .inputText {
            width: 100%;
            height:100%;
            margin-top: 20px;
            color: #ffffff;
        }

        .form .inputBox input {
            width: 100%;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            border: none;
            border-radius: 30px;
            grid-template-columns: 100px 1fr; /* 设置标签和输入框的网格布局 */
            gap: 10px; /* 设置标签与输入框之间的间距 */
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 16px;
            letter-spacing: 1px;
            color: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .checkip .inputText input {
            position: absolute;
            width:55%;
            right:20%;
            bottom:50%;
            background: rgba(255, 255, 255, 0);
            outline: none;
            border: 1px solid rgba(255, 255, 255, 0);
            font-size: 14px;
            letter-spacing: 1px;
            color: #00aaff;
        }

        .form .inputBox input::placeholder {
            color:  #ffffff;
            opacity: 1;
        }

        input {
            width: 100%; /* 输入框宽度100%填充网格 */
            padding: 8px;
            border: 1px solid #ffffff;
            border-radius: 3px;
            box-sizing: border-box; /* 确保输入框包括内边距和边框的宽度 */  
        }

        label {
            margin-right: 10px;
            white-space: nowrap;
            text-align: right;
            font-weight: bold;
            font-size: large;
        }

        button, .form .inputBox input[type="reset"] {
            padding: 15px;
            width: 100%;
            background: linear-gradient(145deg, #0d0d0d, #1a1a1a); /* 科幻风格背景渐变 */
            color: #0dd7ff; /* 按钮文本颜色 */
            border: 2px solid #0dd7ff; /* 按钮边框颜色 */
            border-radius: 15px;
            font-size: 18px;
            font-family: '仿宋', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease; /* 过渡效果 */
            margin: 7px auto 3px auto;    
            display: block;
            box-shadow: 0 4px 15px rgba(13, 215, 255, 0.4); /* 按钮阴影 */
            position: relative; /* 相对定位 */
            overflow: hidden; /* 隐藏超出内容 */
        }

        button:hover, .form .inputBox input[type="reset"]:hover {
            color: #fff; /* 鼠标悬停时文本颜色 */
            background: linear-gradient(145deg, #1a1a1a, #0d0d0d); /* 悬停时背景渐变反转 */
            box-shadow: 0 0 20px #0dd7ff, 0 0 30px #0dd7ff, 0 0 40px #0dd7ff; /* 鼠标悬停时发光效果 */
        }

        button:active, .form .inputBox input[type="reset"]:active {
            background: linear-gradient(145deg, #0d0d0d, #1a1a1a); /* 按钮点击时的背景色 */
            box-shadow: 0 2px 5px rgba(13, 215, 255, 0.5); /* 按钮点击时的阴影效果 */
            transform: translateY(2px); /* 按钮点击时的动画效果 */
        }

        #registerBtn {
            background-color: #28a745;
        }

        #registerBtn:hover {
            background-color: #0056b3
        }

        p {
            color: red;
            text-align: center;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 15px;
            }

            .inputBox input {
                padding: 8px 15px;
                font-size: 14px;
            }

            button {
                font-size: 16px;
                padding: 12px;
            }
        }

        @media (max-width: 480px) {
            .container {
                width: 100%;
                padding: 10px;
            }

            .inputBox input {
                padding: 6px 10px;
                font-size: 12px;
            }

            button {
                font-size: 14px;
                padding: 10px;
            }
        }

        .error {
            color: red;
        }
       </style>
       <script type="text/javascript">


		// 字母和数字的验证
		jQuery.validator.addMethod("chrnum", function (value, element) {
			var chrnum = /^([a-zA-Z0-9]+)$/;
			return this.optional(element) || (chrnum.test(value));
		}, "只能输入数字和字母(字符A-Z, a-z, 0-9)");

		//下面是表单拦截提示，可取消，否则无法跳转
		/*
		$.validator.setDefaults({
			submitHandler: function() {
				//alert("提交事件!");
			}
		});*/
		$().ready(function () {
			// 在键盘按下并释放及提交后验证提交表单
			$("#loginform").validate({
				rules: {
					name: "required",//用户名
					//密码是6位以上
					password: {
						required: true,
						minlength: 6,
						maxlength: 10,
						chrnum: true
					},
					//验证密码
					repassword: {
						required: true,
						chrnum: true,
						equalTo: "#password"
					},
					//手机号
					phone: {
						required: true,
						mobile: true
					},
				},
				messages: {
					name: "请输入您的用户名",
					password: {
						required: "请输入密码",
						minlength: "请输入6~10位密码",
						maxlength: "请输入6~10位密码"
					},
					repassword: {
						required: "请输入密码",
						equalTo: "两次密码输入不一致"
					}
				}
			});
		});

	</script>
     <script>
        function goTologin() {
                       window.location.href = 'index.html';
                   }
                   </script>
	<style>
		.error {
			color: red;
		}
	</style>

</head>
<!-- <body>
    <div class="container">
        <h2>注册</h2>
        <form id="registerForm">
            <div class="input-group">
            <label for="newUsername">用户名:</label>
            <input type="text" id="newUsername" placeholder="Username" required>
            </div>
            <div class="input-group">
            <label for="newPassword">密码:</label>
            <input type="password" id="newPassword" placeholder="Password" required>
            </div>
            <div class="input-group">
            <label for="confirmPassword">确认密码:</label>
            <input type="password" id="confirmPassword" placeholder="Password" required>
            </div>
            <div class="button-group">
                <button type="submit">注册</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('registerForm').addEventListener('submit', function(event) {
            event.preventDefault();

            var username = document.getElementById('newUsername').value;
            var password = document.getElementById('newPassword').value;
            var confirmPassword = document.getElementById('confirmPassword').value;

            if (password !== confirmPassword) {
                alert('两次输入的密码不一致！');
                return;
            }
            // 将用户名和密码存储到 localStorage
            localStorage.setItem('username', username);
            localStorage.setItem('password', password);
            // 模拟注册成功
            alert('注册成功！');
            window.location.href = 'index.html'; // 注册完成后跳转回登录页面
        });
    </script>
</body>
</html> -->
<body>
    <!-- 播放bgm -->
    <audio src="../music/sound/index.mp3" loop autoplay></audio>
	<section>
		<!-- 登录框 -->
		<div class="container">
			<div class="form">
				<h2>注册</h2>
				<form id="loginform" method="post" name="form1">
					<div class="inputBox">
						<input type="text" placeholder="账户" name="id" id="id">
					</div>
					<div class="inputBox">
						<input type="password" placeholder="请输入密码" name="password" id="password">
					</div>
					<div class="inputBox">
						<input type="password" placeholder="再次输入密码" name="password" id="repassword">
					</div>
					<div class="inputBox">
<button type="button" onclick="save_data()" id="registerBtn">注册</button>
					</div>
					
					<script>
						function save_data() {
							var username = document.getElementById("id").value;
							var password = document.getElementById("password").value;
                            var repassword = document.getElementById("repassword").value;
							/* ------------- */
							if (window.localStorage.userArr != "undefined" && window.localStorage.userArr != undefined) {//判断是否存在
								var array = JSON.parse(window.localStorage.userArr);
							} else {
								array = [];//创建一个新数组
							}
                            if (password !== repassword) {
                            alert('两次输入的密码不一致！');
                               return;
                                   }
							for (var i = 0; i < array.length; i++) {
								if (username == array[i].username) {//判断是否有相同账号
									alert("该账号已存在");
									return;
								}
							}
							var obj = { // 用户结构体
								username: username,
								password: password,
								
							}
							array.push(obj);
							window.localStorage.userArr = JSON.stringify(array);
							window.alert("注册成功！");
							window.localStorage.username = username;
							window.localStorage.password = password;
							// localStorage.setItem("username",username);
							// localStorage.setItem("password",password);
							window.location.assign("index.html");
						}
					</script>
                    <div class="inputbox">
                        <button type="button" onclick="goTologin()">登录</button>
						<!-- <input type="reset" value="登录" onclick="find_date()" id="input1"> -->
					</div>
					<!-- <p class="forget">已有账户?<a href="index.html">
							点击登录
						</a></p> -->
				</form>
			</div>
		</div>
		</div>
		</div>
	</section>
</body>

</html>